<style>
    .form-control{
        width :300px;
    }
</style>
<%= form_for(@doctor) do |f| %>
  <% if @doctor.errors.any? %>
    <div id="error_explanation">
      <h2><%= pluralize(@doctor.errors.count, "error") %> prohibited this doctor from being saved:</h2>

      <ul>
      <% @doctor.errors.full_messages.each do |message| %>
        <li><%= message %></li>
      <% end %>
      </ul>
    </div>
  <% end %>

  <div class="field">
    <%= f.label '姓名' %><br>
    <%= f.text_field :name ,class:"form-control"%>
  </div>
  <div class="field">
    <%= f.label '证件类型' %><br>
    <select id="doctor_credential_type" name="doctor[credential_type]" >
      <option value="">---请选择---</option>
      <option id='' value="">居民身份证</option>
      <option id='' value="">军官证</option>
      <option id='' value="">护照</option>
      <option id='' value="">武警警官证</option>
      <option id='' value="">士兵证</option>
      <option id='' value="">港澳同胞回乡证</option>
      <option id='' value="">外国人居留证</option>
      <option id='' value="">外国人出入境证</option>
      <option id='' value="">其它</option>
    </select>
    <%#= f.text_field :credential_type ,class:"form-control"%>
  </div>
  <div class="field">
    <%= f.label '证件号码' %><br>
    <%= f.text_field :credential_type_number,class:"form-control" %>
  </div>
  <div class="field">
    <%= f.label :性别 %><br>
    <div id="doc_gender"><%= render partial: 'doctors/gender_partial' %></div>
    <%#= f.text_field :gender ,class:"form-control"%>
  </div>
  <div class="field">
    <%= f.label :生日 %><br>
    <input id='doc_birthday' data-format="yyyy-MM-dd" name='doctor[birthday]' type="text" class="form-control"/>
    <%#= f.date_select :birthday %>
  </div>
  <div class="field">
    <%= f.label :出生地 %><br>
    <%= f.text_field :birthplace,class:"form-control" %>
  </div>
  <div class="field">
    <%= f.label :选择省 %><br>
    <div id="doc_province"><%= render partial: 'doctors/province_partial' %></div>
    <%#= f.text_field :province_id %>
  </div>
    <div class="field">
      <%= f.label :省名称 %><br>
      <%= f.text_field :province_name %>
    </div>
  <div class="field">
    <%= f.label :选择市 %><br>
    <div id="doc_city"><%= render partial: 'doctors/city_partial' %></div>
    <%#= f.number_field :city_id %>
  </div>
    <div class="field">
      <%= f.label :市名称 %><br>
      <%= f.text_field :city_name %>
    </div>
    <div class="field">
      <%= f.label :选择医院 %><br>
      <div id="doc_hospital"><%= render partial: 'doctors/hospital_partial' %></div>
    </div>
    <div class="field">
      <%= f.label :医院名称 %><br>
      <%= f.text_field :hospital_name %>
    </div>
    <div class="field">
      <%= f.label :选择科室 %><br>
      <div id="doc_department"><%= render partial: 'doctors/department_partial' %></div>
    </div>
    <div class="field">
      <%= f.label :科室名称 %><br>
      <%= f.text_field :department_name %>
    </div>
    <div class="field">
      <%= f.label :地址 %><br>
      <%= f.text_field :address %>
    </div>
    <div class="field">
      <%= f.label :民族 %><br>
      <%= f.text_field :nationality %>
    </div>
    <div class="field">
      <%= f.label :国籍 %><br>
      <%= f.text_field :citizenship %>
    </div>
    <div class="field">
      <%= f.label :照片 %><br>
      <%= f.text_field :photo %>
    </div>
    <div class="field">
      <%= f.label :婚姻情况 %><br>
      <%= f.text_field :marriage %>
    </div>
    <div class="field">
      <%= f.label :手机号 %><br>
      <%= f.text_field :mobile_phone %>
    </div>
    <div class="field">
      <%= f.label :家庭电话 %><br>
      <%= f.text_field :home_phone %>
    </div>
    <div class="field">
      <%= f.label :家庭地址 %><br>
      <%= f.text_field :home_address %>
    </div>
    <div class="field">
      <%= f.label :联系人 %><br>
      <%= f.text_field :contact %>
    </div>
    <div class="field">
      <%= f.label :联系电话 %><br>
      <%= f.text_field :contact_phone %>
    </div>
    <div class="field">
      <%= f.label :家庭邮编 %><br>
      <%= f.text_field :home_postcode %>
    </div>
    <div class="field">
      <%= f.label :个人电子邮件 %><br>
      <%= f.text_field :email %>
    </div>
    <div class="field">
      <%= f.label :说明 %><br>
      <%= f.text_field :introduction %>
    </div>
    <div class="field">
      <%= f.label :专业职称 %><br>
      <%= f.text_field :professional_title %>
    </div>
    <div class="field">
      <%= f.label :职位 %><br>
      <%= f.text_field :position %>
    </div>
    <div class="field">
      <%= f.label :雇佣日期 %><br>
      <input id='doc_hire_date' data-format="yyyy-MM-dd" name='doctor[hire_date]' type="text" class="form-control"/>
    </div>
    <div class="field">
      <%= f.label :证书号码 %><br>
      <%= f.text_field :certificate_number %>
    </div>
    <div class="field">
      <%= f.label :专长 %><br>
      <%= f.text_field :expertise %>
    </div>
    <div class="field">
      <%= f.label :学历 %><br>
      <%= f.text_field :degree %>
    </div>
    <div class="field">
      <%= f.label :毕业学校 %><br>
      <%= f.text_field :graduated_from %>
    </div>
    <div class="field">
      <%= f.label :毕业时间 %><br>
      <input id='doc_graduated_at' data-format="yyyy-MM-dd" name='doctor[graduated_at]' type="text" class="form-control"/>
    </div>
    <div class="field">
      <%= f.label :论文 %><br>
      <%= f.text_field :research_paper %>
    </div>
    <div class="field">
      <%= f.label :微信 %><br>
      <%= f.text_field :wechat %>
    </div>
    <div class="field">
      <%= f.label :奖励 %><br>
      <%= f.text_field :rewards %>
    </div>
  <div class="actions" style="display: none">
    <%= f.submit id:'new_or_edit_doctor'%>
  </div>
<% end %>
<script>
    $(function() {
        $('#doc_graduated_at').datetimepicker({
            lang:'ch',
            timepicker:false,
            format:'Y-m-d'
        });
        $('#doc_hire_date').datetimepicker({
            lang:'ch',
            timepicker:false,
            format:'Y-m-d'
        });
        $('#doctor_credential_type').select2();
        $('#doc_birthday').datetimepicker({
            lang:'ch',
            timepicker:false,
            format:'Y-m-d'
        });
        <% if !params[:id].nil? %>
        <% doctor = Doctor.find_by(id:params[:id]) %>
        $('#doc_birthday').val('<%=doctor.birthday%>')
        $('#doc_hire_date').val('<%=doctor.hire_date%>')
        $('#doc_graduated_at').val('<%=doctor.graduated_at%>')
//        document.getElementById('doctor_birthday').setAttribute('selected','selected')
        <% end %>
    })
</script>
