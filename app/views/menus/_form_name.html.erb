<style>.select2-container{width:290px;}</style><div><input type="text" name="name" class="form-control" id="menu_name"/></div><b>医院</b></br><div><select name="hospital_id" id="menu_hospital_id" onchange="search()"><%@hospitals=Hospital.all%><% if !@hospitals.nil? && !@hospitals.empty? %><% @hospitals.each do |hos| %><option id="hospital_<%= hos.id %>" value="<%= hos.id %>"><%= hos.name %></option><% end %><% end %></select></div><div id="menu_department"><%= render partial: 'menus/form_department'%></div><script>$(function() {$("#menu_hospital_id").select2();});function search() {var hos = $("#menu_hospital_id").val();$.ajax({type: "get",url: "/menus/get_department?hospital_id=" + hos,data: "text",success: function (data) {$("#menu_department").html(data);}});}</script>